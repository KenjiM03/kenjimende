<!DOCTYPE html>
<html>

<body>



    <h1>Income Tax Calculator</h1>
    <div class="field has-addons">
        <input type="number" class="input" data-input-tax />
    </div>
    <button class="button is-info" data-calculate>Calculate</button></div>
    </div>
    <div class="column is-5 notification is-success" data-output-tax>PHP: No user input ...</div>
    </div>
    <a href="index.html">Back to main menu</a>


    <script>
        const inputTax = document.querySelector('[data-input-tax]')
        const btnCalculateTax = document.querySelector('[data-calculate]')
        const outputTax = document.querySelector('[data-output-tax]')

        const formatter = new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'PHP',
        })

        const calculateTax = () => {
            const value = inputTax.value
            if (value <= 250000) {
                return 0
            } else if (value > 250000 && value <= 400000) {
                return (value - 250000) * 0.2
            } else if (value > 400000 && value <= 800000) {
                return (value - 400000) * 0.25 + 30000
            } else if (value > 800000 && value <= 2000000) {
                return (value - 800000) * 0.3 + 130000
            } else if (value > 2000000 && value <= 8000000) {
                return (value - 2000000) * 0.32 + 490000
            } else {
                return (value - 8000000) * 0.35 + 2410000
            }
        }

        const showComputation = () => {
            outputTax.textContent = `PHP: ${formatter.format(calculateTax())}`
        }

        btnCalculateTax.addEventListener('click', showComputation)

    </script>
</body>

</html>
